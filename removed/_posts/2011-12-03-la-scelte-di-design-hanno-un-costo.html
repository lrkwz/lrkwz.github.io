---
layout: post
title: La scelte di design hanno un costo
date: '2011-12-03T21:11:00.001+01:00'
author: Luca Orlandi
tags:
- design
- maven
modified_time: '2011-12-04T17:44:02.313+01:00'
thumbnail: http://1.bp.blogspot.com/-mE94_sa9SOU/TtqPIJR0tkI/AAAAAAAAB2Y/zxY0XBbO3LA/s72-c/IMG_1357_web.JPG
blogger_id: tag:blogger.com,1999:blog-5600070.post-1435332647122298459
blogger_orig_url: http://lrkwz.blogspot.com/2011/12/la-scelte-di-design-hanno-un-costo.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-mE94_sa9SOU/TtqPIJR0tkI/AAAAAAAAB2Y/zxY0XBbO3LA/s1600/IMG_1357_web.JPG" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-mE94_sa9SOU/TtqPIJR0tkI/AAAAAAAAB2Y/zxY0XBbO3LA/s1600/IMG_1357_web.JPG" /></a></div>Il design del software è indubbiamente un'arte (<br /><blockquote class="tr_bq"><i>L'<b>arte</b>, nel suo significato più ampio, comprende ogni attività umana - svolta singolarmente o collettivamente - che porta a forme&nbsp;<a href="http://it.wikipedia.org/wiki/Creativit%C3%A0" style="background-attachment: initial; background-clip: initial; background-color: initial; background-image: none; background-origin: initial; background-position: initial initial; background-repeat: initial initial; color: #0645ad; text-decoration: none;" title="Creatività">creative</a>&nbsp;di espressione&nbsp;<a href="http://it.wikipedia.org/wiki/Estetica" style="background-attachment: initial; background-clip: initial; background-color: initial; background-image: none; background-origin: initial; background-position: initial initial; background-repeat: initial initial; color: #0645ad; text-decoration: none;" title="Estetica">estetica</a>, poggiando su accorgimenti tecnici, abilità innate e norme comportamentali derivanti dallo&nbsp;<a href="http://it.wikipedia.org/wiki/Studio_(apprendimento)" style="background-attachment: initial; background-clip: initial; background-color: initial; background-image: none; background-origin: initial; background-position: initial initial; background-repeat: initial initial; color: #0645ad; text-decoration: none;" title="Studio (apprendimento)">studio</a>&nbsp;e dall'<a href="http://it.wikipedia.org/wiki/Esperienza" style="background-attachment: initial; background-clip: initial; background-color: initial; background-image: none; background-origin: initial; background-position: initial initial; background-repeat: initial initial; color: #0645ad; text-decoration: none;" title="Esperienza">esperienza</a>.</i></blockquote>fonte wikipedia ovviamente), le scelte che fai però non sono gratis, accade che se ne debbano pagare le conseguenze&nbsp;&nbsp;(probabilmente accede anche nell'arte in senso stretto ma questo non è affar mio). Per fare un esempio mi è capitato di dovere progettare e realizzare un sistema che prevedeva due interfaccie differenti che insistevano sul medesimo gruppo di domain objects: da una parte un normale sito web, dall'altra delle api raggiungibili tramite AMF (un protocollo binario incapsulato all'interno dell'HTTP) a supporto di una applicazione AIR.<br />Fin dall'inizio è stato chiaro che le necessità di intervento su una e sull'altra avrebbero subito i tempi e i modi di due diverse classi di utenti, insomma le due applicazioni avrebbero vissuto una vita propria ed indipendente l'una dall'altra.<br />Restava il fatto che avrebbero entrambe insistito sui medesimi oggetti, pertanto ho deciso di implementare un modulo "core", pacchettizzato sotto forma di libreria,&nbsp;&nbsp;per gli oggetti di dominio e le logiche di business comuni e un modulo per ciascuna delle due applicazioni; queste avrebbero così potuto essere modificate e rilasciate (il processo di deploy di queste applicazioni è abbastanza rigido lungo e laborioso per ragioni che non mi dilungo ad illustrare) l'una indipendentemente dall'altra.<br />Fantastico, il design e la modularizzazione mi sono sembrati impeccabili. Peccato che dopo poco mi sono reso conto che il processo di modifica al modulo core, per esempio a causa di un nuovo requisito di una delle due applicazioni del quale avrebbe potuto beneficiare anche l'altra o a causa di un bug fix, comportava appunto la modifica e compilazione della libreria, la sua installazione sul repository locale e la successiva modifica della applicazione sulla quale si stava intervenendo. Tutto ciò nonostante tutti i moduli fossero presenti all'interno dell'IDE (eclipse anzi la sua mutazione che prende il nome di STS).<br />Insomma per farla breve questa modularizzazione comporta un piccolo ma costante dispendio di tempo per ciascuna modifica del modulo comune; tutti questi piccoli dispendi di tempo sommati nei mesi diventano ovviamente ... un grosso dispendio di tempo!<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-cvFvCiCZf60/TtqWbKK0GjI/AAAAAAAAB2g/PGo26PXFpDM/s1600/IMG_1396_web.JPG" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" height="267" src="http://3.bp.blogspot.com/-cvFvCiCZf60/TtqWbKK0GjI/AAAAAAAAB2g/PGo26PXFpDM/s320/IMG_1396_web.JPG" width="320" /></a></div>Recentemente ho avuto modo di mettere mano su <a href="http://zeroturnaround.com/jrebel/">jrebel</a> per un progettino open source che ho deciso di rilasciare. Ammetto di essere stato mosso da semplice curiosità da nerd; inizialmente ho fatto una discreta fatica per apprezzarne i benefici ma nonappena ho iniziato a modularizzare tutto è diventato chiaro: jrebel mi consentiva di saltare uno dei passaggi della catena!<br />Una volta <a href="http://zeroturnaround.com/reference-manual/app.html#app-3.7">configurato</a>, jrebel si fa carico della responsabilità di monitorare i cambiamenti all'interno dei moduli di base comuni a tutte le applicazioni evitando di dovere installare nel repository locale ogni qualvolta di fa una piccola modifica.<br />Per esempio puoi eseguire l'applicazione con mvn tomcat:run e modificare i moduli esterni senza dovere fermare e riavviare l'app server ad ogni ricompilazione delle librerie. jrebel si occupa di monitorare tutte le risorse necessarie ad eseguire l'applicazione e ricaricare quel che serve.<br />Il sistema non funziona sempre, ogni tanto dovrai comunque fermare e riavviare l'app server ma il numero di reload scende drasticamente.<br /><br />Resta inteso che di norma considero obbligatorio utilizzare maven e quindi sottostare ad un rigido processo "compile-test-install-release" per tutti i rilasci verso l'esterno in modo che tutti gli sviluppatori del team possano avere meggiore confidenza sulla bontà del software realizzato dagli altri.<br /><br />Per i progetti commerciali jrebel ha un costo (a mio avviso assolutamente proporzionale al tempo risparmiato), per i progetti open source è gratuito e recentamente hanno introdotto una "licenza social" che sostanzialmente consente di utilizzare il prodotto a fronte della sponsorizzazione (automatica) &nbsp;sui social network che utilizzi comunemente.<br /><br />PS le foto sono scattate rispettivamente alla <a href="http://www.casadellenergia.it/">casa dell'energia</a> e alla <a href="http://www.museoscienza.org/attivita/mostre/buon-appetito/">mostra sull'alimentazione</a> al museo della scienza e della tecnica