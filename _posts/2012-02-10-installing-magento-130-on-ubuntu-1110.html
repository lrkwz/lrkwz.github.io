---
layout: post
title: Installing magento 1.3.0 on ubuntu 11.10
date: '2012-02-10T15:59:00.001+01:00'
author: Luca Orlandi
tags:
- ubuntu
- english
- php
modified_time: '2012-02-10T16:00:16.591+01:00'
blogger_id: tag:blogger.com,1999:blog-5600070.post-3338600626578320562
blogger_orig_url: http://lrkwz.blogspot.com/2012/02/installing-magento-130-on-ubuntu-1110.html
---

I aim to be 100% a software architect, eventually isn't possible: a complete architect should be a polyglot software developer a good designer and also a decent<span class="short_text" id="result_box" lang="en"><span class="hps"> system engineer.</span></span><br /><br />That's why from time to time I challenge the installation of strange beasts, recently I faced <a href="http://www.magentocommerce.com/">magento ecommerce</a> ... well unfortunately an old version of magento still bound to PHP 5.2. As most of you know php 5.2 is gone; php 5.3 is packaged out of the box with many Linux distributions and has many incompatibilities with php 5.2 (actually patches for magent exists but my first choice was installing the system on his barebone prerequisites).<br /><br />Googling you can find instructions to install php 5.2 from binary packages in many distributions including ubuntu 10.x but all fail in some way when you have to catch extension modules as mcrypt or gd. At the end I made my mind to compile php from scratch, following are my notes in the hope that somebody out there will spend less time to achieve the same result.<br /><br />My target machine is:<br /><br /><span style="font-family: Courier New,Courier,monospace;">$ uname -a</span><br /><span style="font-family: Courier New,Courier,monospace;">Linux mymachine-dev 3.0.0-15-server #26-Ubuntu SMP Fri Jan 20 19:07:39 UTC 2012 x86_64 x86_64 x86_64 GNU/Linux</span><br /><br /><span style="font-family: Courier New,Courier,monospace;">$ lsb_release -a</span><br /><span style="font-family: Courier New,Courier,monospace;">No LSB modules are available.</span><br /><span style="font-family: Courier New,Courier,monospace;">Distributor ID:&nbsp;&nbsp;&nbsp; Ubuntu</span><br /><span style="font-family: Courier New,Courier,monospace;">Description:&nbsp;&nbsp;&nbsp; Ubuntu 11.10</span><br /><span style="font-family: Courier New,Courier,monospace;">Release:&nbsp;&nbsp;&nbsp; 11.10</span><br /><span style="font-family: Courier New,Courier,monospace;">Codename:&nbsp;&nbsp;&nbsp; oneiric</span><br /><br />I had to install a few packages in order to complete my job:<br /><br /><span style="font-family: Courier New,Courier,monospace;">sudo apt-get install gcc</span><br /><span style="font-family: Courier New,Courier,monospace;">sudo apt-get install make</span><br /><span style="font-family: Courier New,Courier,monospace;">sudo apt-get install mysql-server</span><br /><span style="font-family: Courier New,Courier,monospace;">sudo apt-get install apache2</span><br /><span style="font-family: Courier New,Courier,monospace;">sudo apt-get install apache2-prefork-dev</span><br /><span style="font-family: Courier New,Courier,monospace;">sudo apt-get install apache2-mpm-prefork</span><br /><span style="font-family: Courier New,Courier,monospace;">sudo apt-get install mysql-server</span><br /><span style="font-family: Courier New,Courier,monospace;">sudo apt-get install libxml2-dev</span><br /><span style="font-family: Courier New,Courier,monospace;">sudo apt-get install libcurl4-openssl-dev</span><br /><span style="font-family: Courier New,Courier,monospace;">sudo apt-get install libpng3 libpng12-dev</span><br /><span style="font-family: Courier New,Courier,monospace;">sudo apt-get install libmcrypt-dev</span><br /><span style="font-family: Courier New,Courier,monospace;">sudo apt-get install libltdl-dev</span><br /><br /><br />the trikiest part has been the graph library which needed an hand made extra symbolic to have php's configure tool find it:<br /><br /><span style="font-family: Courier New,Courier,monospace;">sudo apt-get install libjpeg8-dev</span><br /><span style="font-family: Courier New,Courier,monospace;">sudo ln -s /usr/lib/x86_64/libpng.so /usr/lib/</span><br /><br />Now you can ddownload and un-tar php itself:<br /><br /><span style="font-family: Courier New,Courier,monospace;">wget http://it2.php.net/get/php-5.2.17.tar.bz2/from/this/mirror</span><br /><span style="font-family: Courier New,Courier,monospace;">tar -xjvf php-5.2.17.tar.bz2</span><br /><span style="font-family: Courier New,Courier,monospace;">cd php-5.2.17</span><br /><br /><br />finally configure and build!<br /><br /><span style="font-family: Courier New,Courier,monospace;">./configure --with-apxs2=/usr/bin/apxs2 --with-config-file-path=/etc/php5/apache2 --with-mysql --with-curl --with-mcrypt --with-pdo-mysql --with-gd</span><br /><span style="font-family: Courier New,Courier,monospace;">make</span><br /><span style="font-family: Courier New,Courier,monospace;">sudo make install</span><br /><br /><br />configure and start the http server<br /><br /><span style="font-family: Courier New,Courier,monospace;">sudo service apache2 stop</span><br /><br /><span style="font-family: Courier New,Courier,monospace;"># enable php module</span><br /><span style="font-family: Courier New,Courier,monospace;">cd /etc/apache2/mods-enables</span><br /><span style="font-family: Courier New,Courier,monospace;">sudo ln -s ../mod-available/php.load .</span><br /><br /><span style="font-family: Courier New,Courier,monospace;">sudo service apache2 start</span><br /><br /><br />Verify the results using the <a href="http://www.magentocommerce.com/knowledge-base/entry/how-do-i-know-if-my-server-is-compatible-with-magento" target="_blank">compatibility check</a> kindly provided by magento<br /><br /><span style="font-family: Courier New,Courier,monospace;">cd /var/www</span><br /><span style="font-family: Courier New,Courier,monospace;">wget http://www.magentocommerce.com/_media/magento-check.zip</span><br /><span style="font-family: Courier New,Courier,monospace;">sudo apt-get install unzip</span><br /><span style="font-family: Courier New,Courier,monospace;">sudo unzip magento-check.zip</span><br /><br />Now point your browser to http://localhost:8080/magento-check.php and check the results, if you are lucky enough you have a chance that all requirements are met!
